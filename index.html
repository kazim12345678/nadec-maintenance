<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Drinkable Section – Breakdown KPI & Spare Usage Dashboard (Jan–Feb 2026)</title>

<!-- Fonts -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">

<!-- Chart.js -->
<script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>

<style>
:root{
  --bg:#0b1020;
  --panel:rgba(255,255,255,.06);
  --stroke:rgba(255,255,255,.12);
  --text:rgba(255,255,255,.92);
  --muted:rgba(255,255,255,.6);
  --brand:#22c55e;
  --info:#60a5fa;
  --warn:#fbbf24;
  --high:#fb7185;
  --crit:#ef4444;
  --ok:#34d399;
  --r:14px;
  --shadow:0 12px 40px rgba(0,0,0,.45);
}
*{box-sizing:border-box}
body{
  margin:0;
  font-family:Inter,system-ui,Segoe UI,Roboto,Arial,sans-serif;
  background:linear-gradient(180deg,#070a14,#0b1020);
  color:var(--text);
}
.wrap{max-width:1400px;margin:auto;padding:20px}
h1{margin:0;font-size:20px;font-weight:900}
h2{margin:0;font-size:14px;font-weight:900;text-transform:uppercase;color:#fff}
.sub{color:var(--muted);font-size:12px;margin-top:4px}
.card{
  background:linear-gradient(180deg,rgba(255,255,255,.08),rgba(255,255,255,.05));
  border:1px solid var(--stroke);
  border-radius:var(--r);
  box-shadow:var(--shadow);
  margin-bottom:16px;
}
.cardHeader{padding:14px;border-bottom:1px solid rgba(255,255,255,.08)}
.cardBody{padding:14px}
.grid{display:grid;grid-template-columns:1.2fr .8fr;gap:14px}
.kpis{display:grid;grid-template-columns:repeat(5,1fr);gap:12px}
.kpi{
  background:rgba(255,255,255,.05);
  border:1px solid var(--stroke);
  border-radius:12px;
  padding:12px;
}
.kpi .label{font-size:12px;color:var(--muted);font-weight:700}
.kpi .value{font-size:24px;font-weight:900;margin-top:6px}
.kpi .sub{font-size:12px;color:var(--muted)}
.chartWrap{height:320px}
.chartWrap.tall{height:380px}
.twoCol{display:grid;grid-template-columns:1fr 1fr;gap:12px}

.tableWrap{overflow:auto}
table{
  width:100%;
  border-collapse:collapse;
  background:rgba(0,0,0,.12);
  border-radius:12px;
  overflow:hidden;
}
th,td{
  padding:8px 10px;
  border-bottom:1px solid rgba(255,255,255,.08);
  font-size:12px;
}
th{
  background:rgba(255,255,255,.05);
  color:var(--muted);
  text-transform:uppercase;
  font-weight:800;
}
tr:last-child td{border-bottom:none}
.sectionTitle{
  font-weight:900;
  margin:14px 0 6px;
  color:#fff;
}
.footer{
  color:var(--muted);
  font-size:12px;
  margin-top:10px;
  display:flex;
  justify-content:space-between;
}
@media(max-width:1100px){
  .grid{grid-template-columns:1fr}
  .kpis{grid-template-columns:repeat(2,1fr)}
}
@media(max-width:600px){
  .kpis{grid-template-columns:1fr}
}
</style>
</head>

<body>
<div class="wrap">

<!-- HEADER -->
<div class="card">
  <div class="cardHeader">
    <h1>Drinkable Section – Maintenance KPI & Spare Usage</h1>
    <div class="sub">January–February 2026 • Executive Operations View</div>
  </div>
</div>

<!-- KPI SUMMARY -->
<div class="card">
  <div class="cardHeader"><h2>Executive KPI Summary</h2></div>
  <div class="cardBody">
    <div class="kpis">
      <div class="kpi">
        <div class="label">Total Breakdown Hours</div>
        <div class="value">1347</div>
        <div class="sub">All sections combined</div>
      </div>
      <div class="kpi">
        <div class="label">Dominant Section</div>
        <div class="value">Filling & Capping</div>
        <div class="sub">50.6% of losses</div>
      </div>
      <div class="kpi">
        <div class="label">Top Machine Exposure</div>
        <div class="value">M15</div>
        <div class="sub">11.2% contribution</div>
      </div>
      <div class="kpi">
        <div class="label">Shift Loss Split</div>
        <div class="value">Night 52.2%</div>
        <div class="sub">+4.6 pts vs Day</div>
      </div>
      <div class="kpi">
        <div class="label">Overall Risk Level</div>
        <div class="value" style="color:var(--high)">HIGH</div>
        <div class="sub">Concentration risk present</div>
      </div>
    </div>
  </div>
</div>

<!-- ANALYTICS -->
<div class="grid">

  <!-- LEFT -->
  <div class="card">
    <div class="cardHeader"><h2>Machine Pareto (80/20)</h2></div>
    <div class="cardBody">
      <div class="chartWrap tall">
        <canvas id="paretoChart"></canvas>
      </div>
    </div>
  </div>

  <!-- RIGHT -->
  <div class="card">
    <div class="cardHeader"><h2>Section & Shift Distribution</h2></div>
    <div class="cardBody">
      <div class="twoCol">
        <div class="chartWrap">
          <canvas id="sectionPie"></canvas>
        </div>
        <div class="chartWrap">
          <canvas id="shiftDonut"></canvas>
        </div>
      </div>
    </div>
  </div>

</div>

<!-- SPARE PARTS TABLES -->
<div class="card">
  <div class="cardHeader"><h2>Spare Parts & Materials Used (Detailed)</h2></div>
  <div class="cardBody">

    <!-- EXAMPLE MACHINE TABLE -->
    <div class="sectionTitle">Crates Area / Line</div>
    <div class="tableWrap">
      <table>
        <thead>
          <tr>
            <th>Item Description</th>
            <th>Quantity / Remarks</th>
          </tr>
        </thead>
        <tbody>
          <tr><td>Cable</td><td>1 pc</td></tr>
          <tr><td>Flange bearing</td><td>1 pc</td></tr>
          <tr><td>MAC solenoid valve</td><td>1 pc</td></tr>
          <tr><td>Plastic guide</td><td>3 mtrs</td></tr>
          <tr><td>606 ball bearing</td><td>4 pcs</td></tr>
          <tr><td>Motor</td><td>1 unit</td></tr>
          <tr><td>Spare conveyor</td><td>10 mtrs</td></tr>
          <tr><td>As per IR</td><td>IR#1129477</td></tr>
          <tr><td>n/a</td><td>—</td></tr>
        </tbody>
      </table>
    </div>

    <div class="sectionTitle">Machine M15</div>
    <div class="tableWrap">
      <table>
        <thead>
          <tr>
            <th>Item Description</th>
            <th>Quantity / Remarks</th>
          </tr>
        </thead>
        <tbody>
          <tr><td>Breaker</td><td>1 pc</td></tr>
          <tr><td>Multiflow</td><td>1 pc</td></tr>
          <tr><td>Encoder</td><td>1 pc</td></tr>
          <tr><td>Belt</td><td>2 pcs</td></tr>
          <tr><td>Capper fingers</td><td>6 pcs</td></tr>
          <tr><td>Filters</td><td>8 pcs</td></tr>
          <tr><td>Spare bushing / spring / fork</td><td>—</td></tr>
          <tr><td>n/a</td><td>—</td></tr>
        </tbody>
      </table>
    </div>

    <div class="sectionTitle">Machine M7</div>
    <div class="tableWrap">
      <table>
        <thead>
          <tr>
            <th>Item Description</th>
            <th>Quantity / Remarks</th>
          </tr>
        </thead>
        <tbody>
          <tr><td>MAC solenoid valve</td><td>2 pcs</td></tr>
          <tr><td>Siemens Micromaster 420</td><td>1 pc</td></tr>
          <tr><td>Profibus cable</td><td>15 mtrs</td></tr>
          <tr><td>Finger cam sets</td><td>Multiple</td></tr>
          <tr><td>Vacuum / suction cups</td><td>Multiple</td></tr>
          <tr><td>n/a</td><td>—</td></tr>
        </tbody>
      </table>
    </div>

  </div>
</div>

<div class="footer">
  <div>© 2026 • Drinkable Section • Maintenance KPI System</div>
  <div>Data source: Breakdown & Spare Usage Logs</div>
</div>

</div>

<script>
/* ================= DATA ================= */
const machines = {
  "M15":151,"M14":143,"M6":127,"M7":127,"M2":99,"M4":93,"Crates Area":89,
  "M8":86,"M1":74,"M3":73,"M16":70,"M18":63,"M17":56,"M13":55,"M12":31,"M5":3,"M9":5
};
const sections = {
  "Filling & Capping":681,
  "Downline":447,
  "Upstream":128,
  "Crates Area":89
};
const shifts = {Day:642,Night:703};
const total = 1347;

/* ================= CHARTS ================= */
const mLabels = Object.keys(machines);
const mVals = Object.values(machines);
let cum=0;
const cumPct = mVals.map(v => (cum+=v)/total*100);

new Chart(document.getElementById("paretoChart"),{
  data:{
    labels:mLabels,
    datasets:[
      {type:"bar",label:"Hours",data:mVals,backgroundColor:"rgba(96,165,250,.45)"},
      {type:"line",label:"Cumulative %",data:cumPct,yAxisID:"y1",borderColor:"#22c55e",fill:false}
    ]
  },
  options:{
    responsive:true,
    scales:{
      y:{beginAtZero:true,title:{display:true,text:"Hours"}},
      y1:{beginAtZero:true,max:100,position:"right",title:{display:true,text:"%"}}
    }
  }
});

new Chart(document.getElementById("sectionPie"),{
  type:"pie",
  data:{labels:Object.keys(sections),datasets:[{data:Object.values(sections)}]},
  options:{responsive:true}
});

new Chart(document.getElementById("shiftDonut"),{
  type:"doughnut",
  data:{labels:Object.keys(shifts),datasets:[{data:Object.values(shifts)}]},
  options:{responsive:true,cutout:"60%"}
});
</script>
</body>
</html>
